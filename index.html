<!DOCTYPE html>
<html lang="te" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>శ్రీ వెంకటేశ్వర ఫర్నిచర్ వర్క్స్ - మీ ఇంటి కలలకు మా చేతి నైపుణ్యం</title>
    <meta name="description" content="విజయనగరంలో అత్యుత్తమ నాణ్యత గల టేకు ఫర్నిచర్, సారె సామాన్లు, మరియు మీ కలల డిజైన్లకు చిరునామా. 30 ఏళ్ల అనుభవంతో, మీ నమ్మకానికి మాది హామీ.">
    <meta name="keywords" content="furniture in vizianagaram, sare samanlu, wooden doors, furniture works, chintalavalasa, denkada, vizianagaram furniture, best furniture">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Telugu:wght@400;700;900&family=Tiro+Telugu&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Poppins', 'Noto Sans Telugu', sans-serif;
            background-color: #FDFCFB; /* Soft, warm off-white */
            color: #4F4641; /* Muted brown-black for text */
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: 'Tiro Telugu', serif;
        }

        /* Warm, Natural, and Luxurious Color Palette */
        .brand-dark { background-color: #5D4037; } /* Rich Brown */
        .brand-light { background-color: #EFEBE9; } /* Light Beige */
        .text-brand-dark { color: #5D4037; }
        .text-brand-accent { color: #AF8F6F; } /* Muted Gold/Tan */
        
        .gradient-accent {
            background-image: linear-gradient(to right, #C8A47E, #AF8F6F);
        }
        
        /* Scroll Animation */
        .reveal-on-scroll {
            opacity: 0;
            transform: translateY(40px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }
        .reveal-on-scroll.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        /*.hero-bg {
            background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('https://images.unsplash.com/photo-1598969445465-b3a75b7c4f4a?q=80&w=1974&auto=format=fit=crop');
        }*/
        .hero-bg {
            background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('https://images.unsplash.com/photo-1600121848594-d8644e57abab?q=80&w=1974&auto=format=fit=crop');
        }

        .card-shadow {
            box-shadow: 0 8px 30px -10px rgba(93, 64, 55, 0.15);
        }
        /* Loading Spinner */
        .loader {
            border: 4px solid #f3f3f3;
            border-radius: 50%;
            border-top: 4px solid #AF8F6F;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>

<body class="antialiased">

    <!-- Header -->
    <header class="bg-white/80 backdrop-blur-md text-brand-dark p-4 shadow-md sticky top-0 z-50">
        <div class="container mx-auto flex justify-center sm:justify-between items-center">
            <!-- Logo and Title Group -->
            <div class="flex items-center">
                <!-- SVG Logo -->
                <svg class="w-8 h-8 mr-3 text-brand-dark" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M20 10V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v4h16zM4 12v6a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-6H4zM4 12V10M20 12V10M17 12v-2M7 12v-2"></path>
                </svg>
                <h1 class="text-xl md:text-2xl font-bold">శ్రీ వెంకటేశ్వర ఫర్నిచర్ వర్క్స్</h1>
            </div>
            
            <a href="#contact" class="gradient-accent text-white font-bold py-2 px-6 rounded-full transition duration-300 hover:shadow-lg transform hover:scale-105 hidden sm:block">
                సంప్రదించండి
            </a>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero-bg min-h-screen bg-cover bg-center flex items-center">
        <div class="container mx-auto px-4 sm:px-6 text-white text-center">
            <h2 class="text-3xl sm:text-4xl md:text-6xl font-bold leading-tight mb-4" style="text-shadow: 2px 2px 8px rgba(0,0,0,0.7);">మీ ఇంటి కలలకు... మా చేతి నైపుణ్యం</h2>
            <p class="text-base sm:text-lg md:text-xl mb-10 max-w-3xl mx-auto" style="text-shadow: 1px 1px 5px rgba(0,0,0,0.7);">30 ఏళ్ల అనుభవంతో, నాణ్యమైన టేకుతో, మీ అభిరుచికి తగ్గట్టుగా ఫర్నిచర్ తయారు చేస్తాం.</p>
            <a href="#services" class="gradient-accent text-white font-bold py-3 px-10 text-base sm:py-4 sm:px-12 sm:text-lg rounded-full transition duration-300 transform hover:scale-105 shadow-2xl inline-block">
                మా సేవలు చూడండి
            </a>
            <!-- USP Bar -->
            <div class="mt-12 grid grid-cols-2 sm:grid-cols-4 gap-4 max-w-5xl mx-auto text-left">
                <div class="flex items-center gap-4 bg-white/10 p-4 rounded-lg backdrop-blur-sm">
                    <svg class="w-8 h-8 text-yellow-300" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M12 6V3m0 18v-3"></path></svg>
                    <div>
                        <h3 class="font-bold">30+ ఏళ్ల అనుభవం</h3>
                        <p class="text-sm opacity-90">తరతరాల నమ్మకం</p>
                    </div>
                </div>
                <div class="flex items-center gap-4 bg-white/10 p-4 rounded-lg backdrop-blur-sm">
                    <svg class="w-8 h-8 text-yellow-300" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M4 17v4m-2-2h4m1-9H9m6 0h-2m2 0h2M5 13H3m2 0h2m9 0h-2m2 0h2M9 17v-2m6 2v-2"></path></svg>
                    <div>
                        <h3 class="font-bold">100% నాణ్యమైన టేకు</h3>
                        <p class="text-sm opacity-90">ఏళ్ల తరబడి మన్నిక</p>
                    </div>
                </div>
                <div class="flex items-center gap-4 bg-white/10 p-4 rounded-lg backdrop-blur-sm">
                    <svg class="w-8 h-8 text-yellow-300" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                    <div>
                        <h3 class="font-bold">మీకు నచ్చిన డిజైన్</h3>
                        <p class="text-sm opacity-90">మీ కలలను నిజం చేస్తాం</p>
                    </div>
                </div>
                <div class="flex items-center gap-4 bg-white/10 p-4 rounded-lg backdrop-blur-sm">
                    <svg class="w-8 h-8 text-yellow-300" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v.01M12 6v-1m0-1V4m0 2.01V8m0 0h.01M12 16v5m0-5v-1m0 1H9.5M12 16h2.5m0 0l1.414-1.414M12 16l-1.414 1.414m0 0L9.172 16m3.242 0L14.828 16m-2.414-2.414l1.414-1.414M12 12l-1.414-1.414m0 0L9.172 12m3.242 0L14.828 12"></path></svg>
                    <div>
                        <h3 class="font-bold">ఉత్తమ ధర హామీ</h3>
                        <p class="text-sm opacity-90">మధ్యవర్తులు లేరు</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Services Section -->
    <section id="services" class="py-20 md:py-28 reveal-on-scroll">
        <div class="container mx-auto px-6">
            <div class="text-center mb-16">
                <h2 class="text-4xl md:text-5xl font-bold text-brand-dark">మా ప్రత్యేక సేవలు</h2>
                <p class="text-lg text-brand-accent mt-2">మీ ప్రతి అవసరానికి, మా దగ్గర పరిష్కారం ఉంది</p>
            </div>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Service Card -->
                <div class="service-card bg-white p-6 sm:p-8 rounded-xl card-shadow transform hover:-translate-y-2 transition-transform duration-300 cursor-pointer">
                    <h3 class="text-2xl font-bold text-brand-dark mb-3">సారె సామాన్లు (మా ప్రత్యేకత)</h3>
                    <p class="text-gray-600 mb-4">మీ కుమార్తె వివాహాన్ని ఒక మధుర జ్ఞాపకంగా మార్చండి. మీ గౌరవానికి ప్రతీకగా, అందరినీ ఆకట్టుకునేలా అద్భుతమైన సారె సామాన్లు అందిస్తాము.</p>
                    <a href="#contact" class="details-link hidden font-bold text-brand-accent hover:underline">మరిన్ని వివరాలకు &rarr;</a>
                </div>
                <!-- Service Card -->
                <div class="service-card bg-white p-6 sm:p-8 rounded-xl card-shadow transform hover:-translate-y-2 transition-transform duration-300 cursor-pointer">
                    <h3 class="text-2xl font-bold text-brand-dark mb-3">హోమ్ ఫర్నిచర్</h3>
                    <p class="text-gray-600">సోఫాలు, మంచాలు, డైనింగ్ టేబుళ్లు... మీ ఇంటికి జీవం పోసే ప్రతి వస్తువును శ్రద్ధతో తయారు చేస్తాము.</p>
                    <a href="#contact" class="details-link hidden font-bold text-brand-accent hover:underline">మరిన్ని వివరాలకు &rarr;</a>
                </div>
                <!-- Service Card -->
                <div class="service-card bg-white p-6 sm:p-8 rounded-xl card-shadow transform hover:-translate-y-2 transition-transform duration-300 cursor-pointer">
                    <h3 class="text-2xl font-bold text-brand-dark mb-3">తలుపులు & ద్వారబంధాలు</h3>
                    <p class="text-gray-600">మీ ఇంటికి రాజసాన్ని, భద్రతను ఇచ్చే ధృడమైన టేకు తలుపులు, కళాత్మకమైన ద్వారబంధాలు.</p>
                    <a href="#contact" class="details-link hidden font-bold text-brand-accent hover:underline">మరిన్ని వివరాలకు &rarr;</a>
                </div>
                <!-- Service Card -->
                 <div class="service-card bg-white p-6 sm:p-8 rounded-xl card-shadow transform hover:-translate-y-2 transition-transform duration-300 cursor-pointer">
                    <h3 class="text-2xl font-bold text-brand-dark mb-3">ఆఫీస్ ఫర్నిచర్</h3>
                    <p class="text-gray-600">మీ ఆఫీస్‌కు ప్రొఫెషనల్ లుక్ ఇచ్చే టేబుల్స్, కుర్చీలు, మరియు కప్‌బోర్డులు తయారు చేస్తాము.</p>
                    <a href="#contact" class="details-link hidden font-bold text-brand-accent hover:underline">మరిన్ని వివరాలకు &rarr;</a>
                </div>
                <!-- Service Card -->
                <div class="service-card bg-white p-6 sm:p-8 rounded-xl card-shadow transform hover:-translate-y-2 transition-transform duration-300 cursor-pointer">
                    <h3 class="text-2xl font-bold text-brand-dark mb-3">కస్టమ్ డిజైన్లు</h3>
                    <p class="text-gray-600">మీ మనసులోని ఆలోచనకు మా నైపుణ్యాన్ని జోడించి, మీ కలల ఫర్నిచర్‌ను తయారు చేస్తాము.</p>
                    <a href="#contact" class="details-link hidden font-bold text-brand-accent hover:underline">మరిన్ని వివరాలకు &rarr;</a>
                </div>
                <!-- Service Card -->
                 <div class="service-card bg-white p-6 sm:p-8 rounded-xl card-shadow transform hover:-translate-y-2 transition-transform duration-300 cursor-pointer">
                    <h3 class="text-2xl font-bold text-brand-dark mb-3">పాలిషింగ్ & రిపేర్</h3>
                    <p class="text-gray-600">మీ పాత ఫర్నిచర్‌కు కొత్త జీవితాన్ని ఇస్తాము. కొత్తవాటిలా మెరిపిస్తాము.</p>
                    <a href="#contact" class="details-link hidden font-bold text-brand-accent hover:underline">మరిన్ని వివరాలకు &rarr;</a>
                </div>
            </div>
        </div>
    </section>

    <!-- AI Design Assistant Section -->
    <section id="ai-designer" class="py-20 md:py-28 brand-light reveal-on-scroll">
        <div class="container mx-auto px-6 text-center">
            <h2 class="text-4xl md:text-5xl font-bold text-brand-dark">✨ AI డిజైన్ అసిస్టెంట్</h2>
            <p class="text-lg text-brand-accent mt-2 mb-8">మీకు ఎలాంటి ఫర్నిచర్ కావాలో చెప్పండి, మేము కొన్ని అద్భుతమైన ఐడియాలు ఇస్తాము!</p>
            <div class="max-w-2xl mx-auto bg-white p-8 rounded-xl card-shadow">
                <textarea id="userInput" class="w-full p-4 border border-gray-300 rounded-lg text-lg focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 transition" rows="4" placeholder="ఉదా: నా కొత్త ఇంటి హాల్ కోసం ఒక సాంప్రదాయ సోఫా సెట్ కావాలి..."></textarea>
                <button id="generateButton" class="gradient-accent text-white font-bold py-3 px-10 rounded-full text-lg transition duration-300 transform hover:scale-105 shadow-lg mt-6">
                    ఐడియాలు పొందండి
                </button>
                <div id="aiResponse" class="mt-8 text-left text-gray-700 bg-gray-50 p-6 rounded-lg border border-gray-200" style="display: none;">
                    <!-- AI response will be shown here -->
                </div>
                 <div id="loader" class="loader" style="display: none;"></div>
            </div>
        </div>
    </section>

    <!-- Gallery Section -->
    <section id="gallery" class="py-20 md:py-28 reveal-on-scroll">
        <div class="container mx-auto px-6">
            <h2 class="text-4xl md:text-5xl font-bold text-center mb-16 text-brand-dark">మా పనితనం, మీ కళ్ళతో చూడండి</h2>
            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4">
                 <div class="overflow-hidden rounded-xl shadow-lg group col-span-1 sm:col-span-2 md:col-span-2 row-span-2">
                    <img src="https://images.unsplash.com/photo-1604014237800-1c9102c219da?q=80&w=1974&auto=format=fit=crop" alt="సారె సామాను" class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-500">
                </div>
                <div class="overflow-hidden rounded-xl shadow-lg group"><img src="https://images.unsplash.com/photo-1555041469-a586c61ea9bc?q=80&w=2070&auto=format=fit=crop" alt="రాయల్ సోఫా" class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-500"></div>
                <div class="overflow-hidden rounded-xl shadow-lg group"><img src="https://images.unsplash.com/photo-1594245225502-6fbdfb186c36?q=80&w=735&auto=format&fit=crop" alt="డిజైనర్ డోర్" class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-500"></div>
                <div class="overflow-hidden rounded-xl shadow-lg group"><img src="https://images.unsplash.com/photo-1505409628601-edc9af17fda6?q=80&w=1170&auto=format&fit=crop" alt="డైనింగ్ సెట్" class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-500"></div>
                <div class="overflow-hidden rounded-xl shadow-lg group"><img src="https://images.unsplash.com/photo-1714138100706-790c1b19056a?q=80&w=1171&auto=format&fit=crop" alt="వివాహ మంచం" class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-500"></div>
            </div>
        </div>
    </section>
    
    <!-- Testimonials Section -->
    <section id="testimonials" class="py-20 md:py-28 brand-light reveal-on-scroll">
        <div class="container mx-auto px-6 text-center">
            <h2 class="text-4xl md:text-5xl font-bold mb-16 text-brand-dark">మా కస్టమర్ల మనోభావాలు</h2>
             <div class="grid md:grid-cols-2 gap-10 max-w-4xl mx-auto">
                <div class="bg-white p-8 rounded-xl card-shadow text-left">
                    <p class="text-gray-600 italic text-lg mb-6">"మా పాప పెళ్లికి సారె సామాన్లు ఇక్కడే చేయించాము. వచ్చిన ప్రతీ ఒక్కరూ చాలా బాగున్నాయని మెచ్చుకున్నారు. వెంకట కృష్ణ గారికి మా ధన్యవాదాలు."</p>
                    <div class="flex items-center">
                        <div class="w-12 h-12 rounded-full bg-yellow-500 text-white flex items-center justify-center font-bold text-xl mr-4">R</div>
                        <div>
                            <h4 class="font-bold text-brand-dark">- రవి కుమార్</h4>
                            <p class="text-sm text-gray-500">విజయనగరం</p>
                        </div>
                    </div>
                </div>
                <div class="bg-white p-8 rounded-xl card-shadow text-left">
                     <p class="text-gray-600 italic text-lg mb-6">"మా కొత్త ఇంటికి కావలసిన డోర్స్, ఫర్నిచర్ అంతా వీళ్ళే చేశారు. చెప్పిన టైమ్‌కి, అనుకున్నదానికంటే అద్భుతంగా చేసి ఇచ్చారు. చాలా సంతోషంగా ఉంది."</p>
                     <div class="flex items-center">
                        <div class="w-12 h-12 rounded-full bg-pink-500 text-white flex items-center justify-center font-bold text-xl mr-4">S</div>
                        <div>
                            <h4 class="font-bold text-brand-dark">- సుజాత గారు</h4>
                            <p class="text-sm text-gray-500">డెంకాడ</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="py-20 md:py-28 brand-dark text-white reveal-on-scroll">
        <div class="container mx-auto px-6">
            <div class="max-w-3xl mx-auto text-center">
                <h2 class="text-4xl md:text-5xl font-bold mb-4">ఒక ఫోన్ కాల్ దూరంలో మీ కలల ఫర్నిచర్!</h2>
                <p class="text-xl text-yellow-200 mb-10">ఉచితంగా సలహాలు, కొటేషన్ కోసం ఇప్పుడే సంప్రదించండి.</p>
                <div class="bg-white/10 backdrop-blur-md p-8 rounded-2xl shadow-lg border border-white/20">
                    <p class="text-2xl mb-2">ప్రొప్రైటర్: <strong>K. వెంకట కృష్ణ</strong></p>
                    <p class="text-lg font-semibold mb-8 text-yellow-200">శ్రీ వెంకటేశ్వరస్వామి ఆలయం ప్రక్కన, చింతలవలస, డెంకాడ మండలం, విజయనగరం జిల్లా.</p>
                    <div class="mt-8 flex flex-col sm:flex-row justify-center items-center gap-5">
                        <a href="tel:9963155063" class="w-full sm:w-auto flex items-center justify-center gap-3 gradient-accent text-white font-bold py-4 px-8 rounded-full transition duration-300 transform hover:scale-105 shadow-xl">
                           <span>కాల్: 9963155063</span>
                        </a>
                        <a href="https://api.whatsapp.com/send?phone=919963155063&text=నమస్కారం,%20నేను%20మీ%20ఫర్నిచర్%20వెబ్‌సైట్%20చూసి%20సంప్రదిస్తున్నాను." target="_blank" class="w-full sm:w-auto flex items-center justify-center gap-2 bg-green-500 hover:bg-green-600 text-white font-bold py-4 px-8 rounded-full transition duration-300 transform hover:scale-105 shadow-xl">
                           <span>WhatsApp</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white text-center p-6">
        <p>&copy; 2024 శ్రీ వెంకటేశ్వర ఫర్నిచర్ వర్క్స్. మీ నమ్మకమే మా బలం.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Scroll Animation Observer
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, { threshold: 0.1 });

            document.querySelectorAll('.reveal-on-scroll').forEach(element => {
                observer.observe(element);
            });

            // Interactive Services Section Logic
            const serviceCards = document.querySelectorAll('.service-card');

            function updateSelectedCard(selectedCardEl) {
                // First, reset all cards to their default state
                serviceCards.forEach(card => {
                    card.classList.remove('border-t-4', 'border-yellow-500');
                    card.querySelector('.details-link').classList.add('hidden');
                });

                // Then, apply the active state to the selected card
                selectedCardEl.classList.add('border-t-4', 'border-yellow-500');
                selectedCardEl.querySelector('.details-link').classList.remove('hidden');
            }

            serviceCards.forEach(card => {
                card.addEventListener('click', (event) => {
                    updateSelectedCard(event.currentTarget);
                });
            });

            // Make the first card active by default
            if (serviceCards.length > 0) {
                updateSelectedCard(serviceCards[0]);
            }

            // Gemini API Feature
            const generateButton = document.getElementById('generateButton');
            const userInput = document.getElementById('userInput');
            const aiResponseDiv = document.getElementById('aiResponse');
            const loader = document.getElementById('loader');

            generateButton.addEventListener('click', async () => {
                const userQuery = userInput.value;
                if (!userQuery.trim()) {
                    aiResponseDiv.style.display = 'block';
                    aiResponseDiv.innerText = 'దయచేసి మీకు ఎలాంటి ఫర్నిచర్ కావాలో వివరంగా రాయండి.';
                    return;
                }

                loader.style.display = 'block';
                aiResponseDiv.style.display = 'none';
                generateButton.disabled = true;
                generateButton.classList.add('opacity-50');

                const apiKey = ""; // Leave empty, it will be handled by the environment
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=AIzaSyATywl2Qw5dbOEpXLK4pdV5_P2yE0XoWVA`;
                
                const systemPrompt = "You are a friendly and experienced furniture design expert from Sri Venkateswara Furniture Works, Vizianagaram. Provide creative and practical furniture ideas based on the user's request in the Telugu language. Keep the tone encouraging and inspiring. Suggest materials like teak wood and mention that your workshop can custom-make these designs. Structure the response with headings and bullet points for clarity.";

                const payload = {
                    contents: [{
                        parts: [{ text: userQuery }]
                    }],
                    systemInstruction: {
                        parts: [{ text: systemPrompt }]
                    }
                };

                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                        // More robust error handling: try to get text from the response body
                        const errorBody = await response.text();
                        console.error("API request failed with status:", response.status, "Body:", errorBody);
                        throw new Error(`API Error: ${response.statusText}`);
                    }

                    const result = await response.json();
                    const candidate = result.candidates?.[0];

                    if (candidate && candidate.content?.parts?.[0]?.text) {
                        // Simple formatting for demonstration
                        let formattedText = candidate.content.parts[0].text;
                        formattedText = formattedText.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>'); // Bold
                        formattedText = formattedText.replace(/\*/g, '<br>• '); // Bullets
                        aiResponseDiv.innerHTML = formattedText;
                    } else {
                        throw new Error('No content received from AI.');
                    }
                } catch (error) {
                    console.error('Error fetching AI response:', error);
                    aiResponseDiv.innerText = 'క్షమించండి, ప్రస్తుతం మేము మీ అభ్యర్థనను ప్రాసెస్ చేయలేకపోతున్నాము. దయచేసి కాసేపటి తర్వాత ప్రయత్నించండి.';
                } finally {
                    loader.style.display = 'none';
                    aiResponseDiv.style.display = 'block';
                    generateButton.disabled = false;
                    generateButton.classList.remove('opacity-50');
                }
            });
        });
    </script>
</body>
</html>

